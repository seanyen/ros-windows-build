steps:
- script: |
    mkdir c:\catkin_ws\src
    pushd c:\catkin_ws\src
    git clone https://github.com/ros/ros_tutorials -b melodic-devel
    dir /a /s c:\catkin_ws
  displayName: 'Collect agent runtime information'

- powershell: |
    Get-WindowsOptionalFeature -Online -FeatureName *Data*
    Get-WindowsFeature
    Get-DedupVolume -Volume "C:"
  displayName: 'Collect agent runtime information'

- script: |
    wmic cpu get *
    wmic memorychip get *
  displayName: 'Collect agent runtime information'

- script: |
    call "common\docker-clean.bat"
    call "common\remove-unused-toolchains.bat"
    wmic logicaldisk get size,freespace,caption
  displayName: 'Reclaim disk space'
